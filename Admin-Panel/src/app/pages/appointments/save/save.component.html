<div class="row">
    <div class="col-md-12">
        <mat-card>
            <mat-card-content [nbSpinner]="showProgress" nbSpinnerStatus="danger">
                <form (ngSubmit)="saveAppointment()" #form="ngForm">
                    <div class="row">
                        <div class="col-md-12">
                            <mat-card>
                                <mat-card-header>
    <mat-card-title>{{ 'APPOINTMENT.FIELDS.USER.HEADER' | translate }}</mat-card-title>
  </mat-card-header>
                                <mat-card-content>
                                    <div class="form-group">
                                        <label>{{ 'APPOINTMENT.FIELDS.USER.MOBILE_NUMBER.LABEL' | translate }}</label>
                                        <input readonly nbInput fullWidth [value]="appointment.resident?.user?.mobile_number" />
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>{{ 'APPOINTMENT.FIELDS.USER.EMAIL.LABEL' | translate }}</label>
                                                <input readonly nbInput fullWidth [value]="appointment.resident?.user?.email" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>{{ 'APPOINTMENT.FIELDS.USER.NAME.LABEL' | translate }}</label>
                                                <input readonly nbInput fullWidth [value]="appointment.resident?.user?.name" />
                                            </div>
                                        </div>
                                    </div>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>{{ 'APPOINTMENT.FIELDS.PROVIDER.LABEL' | translate }}</label>
                        <input readonly nbInput fullWidth [value]="appointment?.amenity?.title" />
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-card>
                                <mat-card-header>
    <mat-card-title>{{ 'APPOINTMENT.FIELDS.USER.HEADER' | translate }}</mat-card-title>
  </mat-card-header>
                                <mat-card-content>
                                    <div class="form-group">
                                        <label>{{ 'APPOINTMENT.FIELDS.USER.MOBILE_NUMBER.LABEL' | translate }}</label>
                                        <input readonly nbInput fullWidth [value]="appointment.resident?.user?.mobile_number" />
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>{{ 'APPOINTMENT.FIELDS.USER.EMAIL.LABEL' | translate }}</label>
                                                <input readonly nbInput fullWidth [value]="appointment.resident?.user?.email" />
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>{{ 'APPOINTMENT.FIELDS.USER.NAME.LABEL' | translate }}</label>
                                                <input readonly nbInput fullWidth [value]="appointment.resident?.user?.name" />
                                            </div>
                                        </div>
                                    </div>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-card>
                                <mat-card-header>
    <mat-card-title>{{ 'APPOINTMENT.FIELDS.SCHEDULE.HEADER' | translate }}</mat-card-title>
  </mat-card-header>
                                <mat-card-content>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>{{ 'APPOINTMENT.FIELDS.DATE.LABEL' | translate }}</label>
                                                        <input readonly nbInput fullWidth [value]="appointment.date" />
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>{{ 'APPOINTMENT.FIELDS.DATE_TO.LABEL' | translate }}</label>
                                                        <input readonly nbInput fullWidth [value]="appointment.date_to" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>{{ 'APPOINTMENT.FIELDS.TIME_FROM.LABEL' | translate
                                                            }}</label>
                                                        <input readonly nbInput fullWidth
                                                            [value]="appointment.time_from" />
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group">
                                                        <label>{{ 'APPOINTMENT.FIELDS.TIME_TO.LABEL' | translate
                                                            }}</label>
                                                        <input readonly nbInput fullWidth
                                                            [value]="appointment.time_to" />
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <mat-card>
                                <mat-card-header>
    <mat-card-title>{{ 'APPOINTMENT.FIELDS.PAYMENT.HEADER' | translate }}</mat-card-title>
  </mat-card-header>
                                <mat-card-content>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>{{ 'APPOINTMENT.FIELDS.AMOUNT.LABEL' | translate }}</label>
                                                <input readonly nbInput fullWidth [value]="appointment.amount" />
                                            </div>
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label>{{ 'APPOINTMENT.FIELDS.PAYMENT_METHOD.LABEL' | translate }}</label>
                                            <input readonly nbInput fullWidth
                                                [value]="appointment.payment?.payment_method?.title" />
                                        </div>
                                        <div class="form-group col-md-3">
                                            <label>{{ 'APPOINTMENT.FIELDS.PAYMENT_STATUS.LABEL' | translate }}</label>
                                            <input readonly nbInput fullWidth [value]="appointment.payment?.status" />
                                        </div>
                                    </div>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>{{ 'APPOINTMENT.FIELDS.CREATED_AT.LABEL' | translate }}</label>
                        <input readonly nbInput fullWidth [value]="appointment.created_at" />
                    </div>
                    <div *ngIf="appointment.meta?.reason" class="form-group">
                        <label>{{ 'APPOINTMENT.FIELDS.META_REASON.LABEL' | translate }}</label>
                        <input readonly nbInput fullWidth [value]="appointment.meta?.reason" />
                    </div>
                    <div *ngIf="appointment.meta?.records?.length > 0" class="form-group">
                        <label>{{ 'APPOINTMENT.FIELDS.META_ATTACHMENTS.LABEL' | translate }}</label>
                        <div *ngFor="let record of appointment.meta?.records" class="form-group">
                            <a [href]="record.url">{{ record.title ? record.title : record.url }}</a>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>{{ 'APPOINTMENT.FIELDS.STATUS.LABEL' | translate }}</label>
                        <mat-form-field>
                        <mat-select fullWidth name="status" id="status" [(ngModel)]="appointmentRequest.status"
                            #status=ngModel style="text-transform:capitalize">
                            <mat-option *ngFor="let appointmentStatus of appointmentStatusList"
                                [value]="appointmentStatus">{{ appointmentStatus }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                        <label class="error text-danger" *ngFor="let error of appointmentError.status">{{error}}</label>
                    </div>
                    <button type="submit" [disabled]="!form.form.valid || showProgressButton" nbButton status="success"
                        size="medium" [nbSpinner]="showProgressButton" nbSpinnerStatus="success" nbSpinnerSize="small">
                        {{ 'COMMON.SAVE' | translate }}
                    </button>
                    &nbsp;
                    <button type="button" nbButton status="danger" size="medium" (click)="back()">
                        {{ 'COMMON.BACK' | translate }}
                    </button>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>