<div class="row">
    <div class="col-md-12">
        <mat-card>
            <mat-card-content [nbSpinner]="showProgress" nbSpinnerStatus="danger">
                <form (ngSubmit)="saveAmenity()" #form="ngForm">
                    <div class="form-group">
                        <label>{{ 'AMENITY.FIELDS.TITLE.LABEL' | translate }}</label>
                        <input type="text" nbInput fullWidth placeholder="Title" name="title"
                            [(ngModel)]="amenityRequest.title" #title=ngModel required>
                        <label [hidden]="title.valid || title.pristine" class="error text-danger">
                            {{ 'AMENITY.FIELDS.TITLE.VALIDATION' | translate }}
                        </label>
                        <label class="error text-danger"
                            *ngFor="let error of amenityError.title">{{error}}</label>
                    </div>
                    <div class="form-group">
                        <label>{{ 'AMENITY.FIELDS.DESCRIPTION.LABEL' | translate }}</label>
                        <input type="text" nbInput fullWidth placeholder="Description" name="description"
                            [(ngModel)]="amenityRequest.description" #description=ngModel required>
                        <label [hidden]="description.valid || description.pristine" class="error text-danger">
                            {{ 'AMENITY.FIELDS.DESCRIPTION.VALIDATION' | translate }}
                        </label>
                        <label class="error text-danger"
                            *ngFor="let error of amenityError.description">{{error}}</label>
                    </div>
                    <div class="form-group">
                        <label>{{ 'AMENITY.FIELDS.FEE.LABEL' | translate }}</label>
                        <input type="number" nbInput fullWidth placeholder="Fee" name="fee"
                            [(ngModel)]="amenityRequest.fee" #fee=ngModel required>
                        <label [hidden]="fee.valid || fee.pristine" class="error text-danger">
                            {{ 'AMENITY.FIELDS.FEE.VALIDATION' | translate }}
                        </label>
                        <label class="error text-danger"
                            *ngFor="let error of amenityError.fee">{{error}}</label>
                    </div>
                    <div class="form-group">
                        <label>{{ 'AMENITY.FIELDS.CAPACITY.LABEL' | translate }}</label>
                        <input type="number" nbInput fullWidth placeholder="Capacity" name="capacity"
                            [(ngModel)]="amenityRequest.capacity" #capacity=ngModel required>
                        <label [hidden]="capacity.valid || capacity.pristine" class="error text-danger">
                            {{ 'AMENITY.FIELDS.CAPACITY.VALIDATION' | translate }}
                        </label>
                        <label class="error text-danger"
                            *ngFor="let error of amenityError.capacity">{{error}}</label>
                    </div>
                    <div class="form-group">
                        <label>{{ 'AMENITY.FIELDS.BOOKING_CAPACITY.LABEL' | translate }}</label>
                        <input type="number" nbInput fullWidth placeholder="Booking capacity" name="booking_capacity"
                            [(ngModel)]="amenityRequest.booking_capacity" #booking_capacity=ngModel required>
                        <label [hidden]="booking_capacity.valid || booking_capacity.pristine" class="error text-danger">
                            {{ 'AMENITY.FIELDS.BOOKING_CAPACITY.VALIDATION' | translate }}
                        </label>
                        <label class="error text-danger"
                            *ngFor="let error of amenityError.booking_capacity">{{error}}</label>
                    </div>
                    <div class="form-group">
                        <label>{{ 'AMENITY.FIELDS.ADVANCE_BOOKING_DAYS.LABEL' | translate }}</label>
                        <input type="number" nbInput fullWidth placeholder="Booking capacity" name="advance_booking_days"
                            [(ngModel)]="amenityRequest.advance_booking_days" #advance_booking_days=ngModel required>
                        <label [hidden]="advance_booking_days.valid || advance_booking_days.pristine" class="error text-danger">
                            {{ 'AMENITY.FIELDS.ADVANCE_BOOKING_DAYS.VALIDATION' | translate }}
                        </label>
                        <label class="error text-danger"
                            *ngFor="let error of amenityError.advance_booking_days">{{error}}</label>
                    </div>
                    <div class="form-group">
                        <label>{{ 'AMENITY.FIELDS.MAX_DAYS_PER_FLAT.LABEL' | translate }}</label>
                        <input type="number" nbInput fullWidth placeholder="Booking capacity" name="max_days_per_flat"
                            [(ngModel)]="amenityRequest.max_days_per_flat" #max_days_per_flat=ngModel required>
                        <label [hidden]="max_days_per_flat.valid || max_days_per_flat.pristine" class="error text-danger">
                            {{ 'AMENITY.FIELDS.MAX_DAYS_PER_FLAT.VALIDATION' | translate }}
                        </label>
                        <label class="error text-danger"
                            *ngFor="let error of amenityError.max_days_per_flat">{{error}}</label>
                    </div>
                    <div class="form-group">
                        <label>{{ 'AMENITY.FIELDS.PROJECT.LABEL' | translate }}</label>
                        <mat-select fullWidth name="project_id" [(ngModel)]="amenityRequest.project_id"
                            #project_id=ngModel style="text-transform: capitalize">
                            <mat-option *ngFor="let project of projects" [value]="project.id">
                                {{ project.title }}</mat-option>
                        </mat-select>
                        <label class="error text-danger" *ngFor="let error of amenityError.project_id">{{error}}</label>
                    </div>

                    <ngx-metaeditor [(meta)]="amenityRequest.meta"></ngx-metaeditor>

                    <button type="submit" [disabled]="!form.form.valid || showProgressButton" nbButton status="success"
                        size="medium" [nbSpinner]="showProgressButton" nbSpinnerStatus="success" nbSpinnerSize="small">
                        {{ 'COMMON.SAVE' | translate }}
                    </button>
                    &nbsp;
                    <button type="button" nbButton status="danger" size="medium" (click)="back()">
                        {{ 'COMMON.BACK' | translate }}
                    </button>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>