<div class="row">
    <div class="col-md-12">
        <mat-card>
            <mat-card-content [nbSpinner]="showProgress" nbSpinnerStatus="danger">
                <form (ngSubmit)="savePermission()" #form="ngForm">
                    <div  class="form-group">
                        <label for="role">Choose Existing Role</label>
                        <select name="role" class="form-control" [(ngModel)]="permissionRequest.role" #roles_select=ngModel>
                            <option *ngFor="let role of roles" [value]="role.name">{{ role.name }}</option>
                        </select>                        
                        <label class="error text-danger" *ngFor="let error of permissionError.role">{{error}}</label>                        
                    </div>         
                    <div *ngIf="!editId" class="form-group">
                        <label for="new_role">Or Create New Role</label>
                        <input type="text" class="form-control" id="new_role" placeholder="New Role Name" name="new_role" [(ngModel)]="permissionRequest.new_role">
                        <label class="error text-danger" *ngFor="let error of permissionError.new_role">{{error}}</label>                        
                    </div>                                                            
                    <div class="form-group">
                        <label for="permissions">Permissions</label>
                        <select name="permissions" class="form-control" [(ngModel)]="permissionRequest.permissions" #permissions_select=ngModel multiple style="height:300px">
                            <option *ngFor="let permission of permissions" [value]="permission">{{ permission }}</option>
                        </select>                        
                        <label class="error text-danger" *ngFor="let error of permissionError.permissions">{{error}}</label>                        
                    </div>

                    <button type="submit" [disabled]="!form.form.valid || showProgressButton" mat-flat-button color="accent"
                        size="medium" [nbSpinner]="showProgressButton" nbSpinnerStatus="success" nbSpinnerSize="small">
                        {{ 'COMMON.SAVE' | translate }}
                    </button>
                    &nbsp;
                    <button type="button" mat-flat-button color="warn" size="medium" (click)="back()">
                        {{ 'COMMON.BACK' | translate }}
                    </button>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>