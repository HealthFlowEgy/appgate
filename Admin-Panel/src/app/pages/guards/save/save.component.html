<div class="row">
    <div class="col-md-12">
        <mat-card>
            <mat-card-content [nbSpinner]="showProgress" nbSpinnerStatus="danger">
                <form (ngSubmit)="saveGuard()" #form="ngForm">

                    <div *ngIf="!editId" class="row">
                        <div class="col-md-12">
                            <mat-card>
                                <mat-card-header>
    <mat-card-title>{{ 'GUARD.FIELDS.USER.HEADER' | translate }}</mat-card-title>
  </mat-card-header>
                                <mat-card-content>
                                    <div class="form-group">
                                        <label>{{ 'USER.NAME.LABEL' | translate }}</label>
                                        <input type="email" class="form-control" placeholder="Name" name="name"
                                            [(ngModel)]="guardRequest.name" #name=ngModel required>
                                        <label [hidden]="name.valid || name.pristine" class="error text-danger">
                                            {{ 'USER.NAME.VALIDATION' | translate }}
                                        </label>
                                        <label class="error text-danger"
                                            *ngFor="let error of guardError.name">{{error}}</label>
                                    </div>
                                    <div class="form-group">
                                        <label>{{ 'USER.MOBILE_NUMBER.LABEL' | translate }}</label>
                                        <input type="mobile_number" class="form-control" placeholder="Mobile Number"
                                            name="mobile_number" [(ngModel)]="guardRequest.mobile_number"
                                            #mobile_number=ngModel required>
                                        <label [hidden]="mobile_number.valid || mobile_number.pristine"
                                            class="error text-danger">
                                            {{ 'USER.MOBILE_NUMBER.VALIDATION' | translate }}
                                        </label>
                                        <label class="error text-danger"
                                            *ngFor="let error of guardError.mobile_number">{{error}}</label>
                                    </div>
                                </mat-card-content>
                            </mat-card>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>{{ 'GUARD.FIELDS.PROJECT.LABEL' | translate }}</label>
                        <mat-form-field>
                        <mat-select fullWidth (selectedChange)="onProjectChange($event)" name="project_id"
                            style="text-transform: capitalize" [(ngModel)]="guardRequest.project_id"
                            #project_id=ngModel>
                            <mat-option *ngFor="let project of projects" [value]="project.id">
                                {{ project.title }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    </div>

                    <ngx-metaeditor [(meta)]="guardRequest.meta"></ngx-metaeditor>

                    <button type="submit" [disabled]="!form.form.valid || showProgressButton" mat-flat-button color="accent"
                        size="medium" [nbSpinner]="showProgressButton" nbSpinnerStatus="success" nbSpinnerSize="small">
                        {{ 'COMMON.SAVE' | translate }}
                    </button>
                    &nbsp;
                    <button type="button" mat-flat-button color="warn" size="medium" (click)="back()">
                        {{ 'COMMON.BACK' | translate }}
                    </button>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>